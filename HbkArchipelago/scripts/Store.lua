Store = {}

Store.AttacksChai = {
    --Echo Splash | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Combo/Inventory_Combo_XYXXX.Default__Inventory_Combo_XYXXX_C"] = {
        ProductTag = {TagName = FName("Product.Combos.XYXXX")},
        InventoryTag = {TagName = FName("Inventory.Combo.XYXXX")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Tune Up | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Combo/Inventory_Combo_XX-XXX.Default__Inventory_Combo_XX-XXX_C"] = {
        ProductTag = {TagName = FName("Product.Combos.XX-XXX")},
        InventoryTag = {TagName = FName("Inventory.Combo.XX-XXX")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Stomp Box | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Combo/Inventory_Combo_YXY.Default__Inventory_Combo_YXY_C"] = {
        ProductTag = {TagName = FName("Product.Combos.YXY")},
        InventoryTag = {TagName = FName("Inventory.Combo.YXY")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Arpeggio Stab | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Combo/Inventory_Combo_XXYYY.Default__Inventory_Combo_XXYYY_C"] = {
        ProductTag = {TagName = FName("Product.Combos.XXYYY")},
        InventoryTag = {TagName = FName("Inventory.Combo.XXYYY")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Pickup Crash | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Combo/Inventory_Combo_YYX.Default__Inventory_Combo_YYX_C"] = {
        ProductTag = {TagName = FName("Product.Combos.YYX")},
        InventoryTag = {TagName = FName("Inventory.Combo.YYX")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Harmonic Beam | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Combo/Inventory_Combo_AirXYYY.Default__Inventory_Combo_AirXYYY_C"] = {
        ProductTag = {TagName = FName("Product.Combos.AirXYYY")},
        InventoryTag = {TagName = FName("Inventory.Combo.AirXYYY")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Compressor Slam | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Combo/Inventory_Combo_AirXYXY.Default__Inventory_Combo_AirXYXY_C"] = {
        ProductTag = {TagName = FName("Product.Combos.AirXYXY")},
        InventoryTag = {TagName = FName("Inventory.Combo.AirXYXY")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Shred | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Combo/Inventory_Combo_XmY.Default__Inventory_Combo_XmY_C"] = {
        ProductTag = {TagName = FName("Product.Combos.XmY")},
        InventoryTag = {TagName = FName("Inventory.Combo.XmY")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Staccato Launch | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Combo/Inventory_Combo_ChargeX.Default__Inventory_Combo_ChargeX_C"] = {
        ProductTag = {TagName = FName("Product.Combos.C-X")},
        InventoryTag = {TagName = FName("Inventory.Combo.C-X")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Gain Tornado | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Combo/Inventory_Combo_ChargeY.Default__Inventory_Combo_ChargeY_C"] = {
        ProductTag = {TagName = FName("Product.Combos.C-Y")},
        InventoryTag = {TagName = FName("Inventory.Combo.C-Y")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Quick Beat Hit | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Combo/Inventory_Combo_QuickX.Default__Inventory_Combo_QuickX_C"] = {
        ProductTag = {TagName = FName("Product.Combos.Q-X")},
        InventoryTag = {TagName = FName("Inventory.Combo.Q-X")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Steal Counter | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Combo/Inventory_Combo_QuickY.Default__Inventory_Combo_QuickY_C"] = {
        ProductTag = {TagName = FName("Product.Combos.Q-Y")},
        InventoryTag = {TagName = FName("Inventory.Combo.Q-Y")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Magnet Backstab | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Ability/Inventory_Ability_MagnetBackstab.Default__Inventory_Ability_MagnetBackstab_C"] = {
        ProductTag = {TagName = FName("Product.Abilities.MagnetBackstab")},
        InventoryTag = {TagName = FName("Inventory.Ability.MagnetBackstab")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Air Parry | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Ability/Inventory_Ability_AirParry.Default__Inventory_Ability_AirParry_C"] = {
        ProductTag = {TagName = FName("Product.Abilities.AirParry")},
        InventoryTag = {TagName = FName("Inventory.Ability.AirParry")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Directional Parry | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Ability/Inventory_Ability_DirectionalParry.Default__Inventory_Ability_DirectionalParry_C"] = {
        ProductTag = {TagName = FName("Product.Abilities.DirectionalParry")},
        InventoryTag = {TagName = FName("Inventory.Ability.DirectionalParry")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    }
}

Store.AttacksPeppermint = {
    --Switch Kicker | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Partner/Inventory_Partner_Jam_PG01.Default__Inventory_Partner_Jam_PG01_C"] = {
        ProductTag = {TagName = FName("Product.Partners.JamCombo.PG01")},
        InventoryTag = {TagName = FName("Inventory.Partner.JamCombo.PG01")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Master Blaster | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Partner/Inventory_Partner_Jam_PA01.Default__Inventory_Partner_Jam_PA01_C"] = {
        ProductTag = {TagName = FName("Product.Partners.JamCombo.PA01")},
        InventoryTag = {TagName = FName("Inventory.Partner.JamCombo.PA01")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Cannon Spike | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Partner/Inventory_Partner_Charge_P01.Default__Inventory_Partner_Charge_P01_C"] = {
        ProductTag = {TagName = FName("Product.Partners.Charge.P01")},
        InventoryTag = {TagName = FName("Inventory.Partner.Charge.P01")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Kick Shot | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Partner/Inventory_Partner_Counter_P01.Default__Inventory_Partner_Counter_P01_C"] = {
        ProductTag = {TagName = FName("Product.Partners.Counter.P01")},
        InventoryTag = {TagName = FName("Inventory.Partner.Counter.P01")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    }
}

Store.AttacksMacaron = {
    --Double Bass Drop | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Partner/Inventory_Partner_Jam_MG01.Default__Inventory_Partner_Jam_MG01_C"] = {
        ProductTag = {TagName = FName("Product.Partners.JamCombo.MG01")},
        InventoryTag = {TagName = FName("Inventory.Partner.JamCombo.MG01")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --High Strung | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Partner/Inventory_Partner_Jam_MA01.Default__Inventory_Partner_Jam_MA01_C"] = {
        ProductTag = {TagName = FName("Product.Partners.JamCombo.MA01")},
        InventoryTag = {TagName = FName("Inventory.Partner.JamCombo.MA01")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Gravity Well | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Partner/Inventory_Partner_Charge_M01.Default__Inventory_Partner_Charge_M01_C"] = {
        ProductTag = {TagName = FName("Product.Partners.Charge.M01")},
        InventoryTag = {TagName = FName("Inventory.Partner.Charge.M01")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Love Tap | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Partner/Inventory_Partner_Counter_M01.Default__Inventory_Partner_Counter_M01_C"] = {
        ProductTag = {TagName = FName("Product.Partners.Counter.M01")},
        InventoryTag = {TagName = FName("Inventory.Partner.Counter.M01")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    }
}

Store.AttacksKorsica = {
    --High Security Risk | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Partner/Inventory_Partner_Jam_KG01.Default__Inventory_Partner_Jam_KG01_C"] = {
        ProductTag = {TagName = FName("Product.Partners.JamCombo.KG01")},
        InventoryTag = {TagName = FName("Inventory.Partner.JamCombo.KG01")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Tornado Lift | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Partner/Inventory_Partner_Jam_KA01.Default__Inventory_Partner_Jam_KA01_C"] = {
        ProductTag = {TagName = FName("Product.Partners.JamCombo.KA01")},
        InventoryTag = {TagName = FName("Inventory.Partner.JamCombo.KA01")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Korsica Typhoon | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Partner/Inventory_Partner_Charge_K01.Default__Inventory_Partner_Charge_K01_C"] = {
        ProductTag = {TagName = FName("Product.Partners.Charge.K01")},
        InventoryTag = {TagName = FName("Inventory.Partner.Charge.K01")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --High Alert | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/Partner/Inventory_Partner_Counter_K01.Default__Inventory_Partner_Counter_K01_C"] = {
        ProductTag = {TagName = FName("Product.Partners.Counter.K01")},
        InventoryTag = {TagName = FName("Inventory.Partner.Counter.K01")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    }
}

Store.SpecialAttacks = {
    --Guitar Ride | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/SpAttack/Inventory_SPA_020.Default__Inventory_SPA_020_C"] = {
        ProductTag = {TagName = FName("Product.SpecialAttacks.020")},
        InventoryTag = {TagName = FName("Inventory.SpecialAttack.020")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Pick Me Up! | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/SpAttack/Inventory_SPA_030.Default__Inventory_SPA_030_C"] = {
        ProductTag = {TagName = FName("Product.SpecialAttacks.030")},
        InventoryTag = {TagName = FName("Inventory.SpecialAttack.030")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Pick Slide | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/SpAttack/Inventory_SPA_040.Default__Inventory_SPA_040_C"] = {
        ProductTag = {TagName = FName("Product.SpecialAttacks.040")},
        InventoryTag = {TagName = FName("Inventory.SpecialAttack.040")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --High Pitch Punch | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/SpAttack/Inventory_SPA_050.Default__Inventory_SPA_050_C"] = {
        ProductTag = {TagName = FName("Product.SpecialAttacks.050")},
        InventoryTag = {TagName = FName("Inventory.SpecialAttack.050")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Air Guitar | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/SpAttack/Inventory_SPA_060.Default__Inventory_SPA_060_C"] = {
        ProductTag = {TagName = FName("Product.SpecialAttacks.060")},
        InventoryTag = {TagName = FName("Inventory.SpecialAttack.060")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Rip and Tear | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/SpAttack/Inventory_SPA_080.Default__Inventory_SPA_080_C"] = {
        ProductTag = {TagName = FName("Product.SpecialAttacks.080")},
        InventoryTag = {TagName = FName("Inventory.SpecialAttack.080")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Double Riff | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/SpAttack/Inventory_SPA_310.Default__Inventory_SPA_310_C"] = {
        ProductTag = {TagName = FName("Product.SpecialAttacks.310")},
        InventoryTag = {TagName = FName("Inventory.SpecialAttack.310")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Barrier Wall | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/SpAttack/Inventory_SPA_330.Default__Inventory_SPA_330_C"] = {
        ProductTag = {TagName = FName("Product.SpecialAttacks.330")},
        InventoryTag = {TagName = FName("Inventory.SpecialAttack.330")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Twin Assault | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/SpAttack/Inventory_SPA_340.Default__Inventory_SPA_340_C"] = {
        ProductTag = {TagName = FName("Product.SpecialAttacks.340")},
        InventoryTag = {TagName = FName("Inventory.SpecialAttack.340")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Steal the Show | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/SpAttack/Inventory_SPA_350.Default__Inventory_SPA_350_C"] = {
        ProductTag = {TagName = FName("Product.SpecialAttacks.350")},
        InventoryTag = {TagName = FName("Inventory.SpecialAttack.350")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Holo-Chai | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/SpAttack/Inventory_SPA_360.Default__Inventory_SPA_360_C"] = {
        ProductTag = {TagName = FName("Product.SpecialAttacks.360")},
        InventoryTag = {TagName = FName("Inventory.SpecialAttack.360")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Hibiki! | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/SpAttack/Inventory_SPA_610.Default__Inventory_SPA_610_C"] = {
        ProductTag = {TagName = FName("Product.SpecialAttacks.610")},
        InventoryTag = {TagName = FName("Inventory.SpecialAttack.610")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Overdrive Slash | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/SpAttack/Inventory_SPA_620.Default__Inventory_SPA_620_C"] = {
        ProductTag = {TagName = FName("Product.SpecialAttacks.620")},
        InventoryTag = {TagName = FName("Inventory.SpecialAttack.620")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --808-Gigawatt Cat-attack | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Skill/SpAttack/Inventory_SPA_910.Default__Inventory_SPA_910_C"] = {
        ProductTag = {TagName = FName("Product.SpecialAttacks.910")},
        InventoryTag = {TagName = FName("Inventory.SpecialAttack.910")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    }
}

Store.Items = {
    --Life Gauge | LatestVariableItem
    ["/Game/Hibiki/Blueprints/Inventory/Variable/Inventory_Variable_LifeUp.Default__Inventory_Variable_LifeUp_C"] = {
        ProductTag = {TagName = FName("Product.Items.LifeUp")},
        InventoryTag = {TagName = FName("Inventory.Variable.LifeUp")},
        InventoryCategory = 3,
        ScoutCount = 6,
        DescriptionText = nil
    },
    --Electric Reverb Core | LatestVariableItem
    ["/Game/Hibiki/Blueprints/Inventory/Variable/Inventory_Variable_GaugeUp.Default__Inventory_Variable_GaugeUp_C"] = {
        ProductTag = {TagName = FName("Product.Items.GaugeUp")},
        InventoryTag = {TagName = FName("Inventory.Variable.GaugeUp")},
        InventoryCategory = 3,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Health Tank | LatestVariableItem
    ["/Game/Hibiki/Blueprints/Inventory/Variable/Inventory_Variable_LifeTank.Default__Inventory_Variable_LifeTank_C"] = {
        ProductTag = {TagName = FName("Product.Items.LifeTank")},
        InventoryTag = {TagName = FName("Inventory.Variable.LifeTank")},
        InventoryCategory = 3,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Additional Chip Slot | VariableItem
    ["/Game/Hibiki/Blueprints/Inventory/Variable/Inventory_Variable_ChipSlot.Default__Inventory_Variable_ChipSlot_C"] = {
        ProductTag = {TagName = FName("Product.Items.ChipSlot")},
        InventoryTag = {TagName = FName("Inventory.Variable.ChipSlot")},
        InventoryCategory = 2,
        ScoutCount = 4,
        DescriptionText = nil
    },
    --Special Attack Slot | VariableItem
    ["/Game/Hibiki/Blueprints/Inventory/Variable/Inventory_Variable_SpAttackSlot.Default__Inventory_Variable_SpAttackSlot_C"] = {
        ProductTag = {TagName = FName("Product.Items.SpAttackSlot")},
        InventoryTag = {TagName = FName("Inventory.Variable.SpAttackSlot")},
        InventoryCategory = 2,
        ScoutCount = 1,
        DescriptionText = nil
    }
}

Store.Chips = {
    --Peppermint Compatibility | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_CoolTimeP.Default__Inventory_Chip_CoolTimeP_C"] = {
        ProductTag = {TagName = FName("Product.Chip.CoolTimeP.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.CoolTimeP")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Health Kick | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_RecoveryUp.Default__Inventory_Chip_RecoveryUp_C"] = {
        ProductTag = {TagName = FName("Product.Chip.RecoveryUp.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.RecoveryUp")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Battery Magnet | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_BatteryUp.Default__Inventory_Chip_BatteryUp_C"] = {
        ProductTag = {TagName = FName("Product.Chip.BatteryUp.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.BatteryUp")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Rhythm Meter Rush | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_RhythmMeterUp.Default__Inventory_Chip_RhythmMeterUp_C"] = {
        ProductTag = {TagName = FName("Product.Chip.RhythmMeterUp.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.RhythmMeterUp")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Parry Health | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_ParryHealth.Default__Inventory_Chip_ParryHealth_C"] = {
        ProductTag = {TagName = FName("Product.Chip.ParryHealth.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.ParryHealth")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Parry Charge | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_ParryBattery.Default__Inventory_Chip_ParryBattery_C"] = {
        ProductTag = {TagName = FName("Product.Chip.ParryBattery.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.ParryBattery")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Invincible D-Parry | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_DParryInvincible.Default__Inventory_Chip_DParryInvincible_C"] = {
        ProductTag = {TagName = FName("Product.Chip.DirectionalParryInvincible.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.DirectionalParryInvincible")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Damage Rebound D-Parry | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_DParryDamage.Default__Inventory_Chip_DParryDamage_C"] = {
        ProductTag = {TagName = FName("Product.Chip.DirectionalParryDamage.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.DirectionalParryDamage")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Combo Holder | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_ComboDurationUp.Default__Inventory_Chip_ComboDurationUp_C"] = {
        ProductTag = {TagName = FName("Product.Chip.ComboDurationUp.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.ComboDurationUp")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Rhythm Dodge Pull Plus | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_ItemAbsorbUp.Default__Inventory_Chip_ItemAbsorbUp_C"] = {
        ProductTag = {TagName = FName("Product.Chip.ItemAbsorbUp.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.ItemAbsorbUp")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Rhythm Dodge Pull Cancel | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_ItemAbsorbCancel.Default__Inventory_Chip_ItemAbsorbCancel_C"] = {
        ProductTag = {TagName = FName("Product.Chip.ItemAbsorbCancelInBattle")},
        InventoryTag = {TagName = FName("Inventory.Chip.ItemAbsorbCancelInBattle")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Instant Partner Recharge | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_ForceQuickCallPartner.Default__Inventory_Chip_ForceQuickCallPartner_C"] = {
        ProductTag = {TagName = FName("Product.Chip.ForceQuickCallPartner")},
        InventoryTag = {TagName = FName("Inventory.Chip.ForceQuickCallPartner")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    },
    --Peppermint Shock Advantage | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_P_DownTimeUp.Default__Inventory_Chip_P_DownTimeUp_C"] = {
        ProductTag = {TagName = FName("Product.Chip.P_DownTimeUp.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.P_DownTimeUp")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Peppermint Shock Jump | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_P_ElectricEnemy.Default__Inventory_Chip_P_ElectricEnemy_C"] = {
        ProductTag = {TagName = FName("Product.Chip.P_ElectricEnemy.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.P_ElectricEnemy")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Macaron Compatibility | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_CoolTimeM.Default__Inventory_Chip_CoolTimeM_C"] = {
        ProductTag = {TagName = FName("Product.Chip.CoolTimeM.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.CoolTimeM")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Macaron's Lucky Punch | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_M_LuckyShieldDamage.Default__Inventory_Chip_M_LuckyShieldDamage_C"] = {
        ProductTag = {TagName = FName("Product.Chip.M_LuckyShieldDamage.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.M_LuckyShieldDamage")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Macaron's Aftershock | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_M_WaveRangeUp.Default__Inventory_Chip_M_WaveRangeUp_C"] = {
        ProductTag = {TagName = FName("Product.Chip.M_WaveRangeUp.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.M_WaveRangeUp")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Korsica Compatibility | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_CoolTimeK.Default__Inventory_Chip_CoolTimeK_C"] = {
        ProductTag = {TagName = FName("Product.Chip.CoolTimeK.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.CoolTimeK")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Super High Alert | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_K_FloatingTimeUp.Default__Inventory_Chip_K_FloatingTimeUp_C"] = {
        ProductTag = {TagName = FName("Product.Chip.K_FloatingTimeUp.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.K_FloatingTimeUp")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --Korsica Stun Extend | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_K_DebuffTimeUp.Default__Inventory_Chip_K_DebuffTimeUp_C"] = {
        ProductTag = {TagName = FName("Product.Chip.K_DebuffTimeUp.Lv1")},
        InventoryTag = {TagName = FName("Inventory.Chip.K_DebuffTimeUp")},
        InventoryCategory = 1,
        ScoutCount = 3,
        DescriptionText = nil
    },
    --[[
    --Chip Sense | PlayerItem
    ["/Game/Hibiki/Blueprints/Inventory/Chip/Inventory_Chip_FindingCircuit.Default__Inventory_Chip_FindingCircuit_C"] = {
        ProductTag = {TagName = FName("Product.Chip.FindingCircuit")},
        InventoryTag = {TagName = FName("Inventory.Chip.FindingCircuit")},
        InventoryCategory = 1,
        ScoutCount = 1,
        DescriptionText = nil
    }]]
}

---@type table<string, string>
Store.LocStrToDTKey = {
    ["Product.Combos.XYXXX=1"] = "Product000",
    ["Product.Combos.XX-XXX=1"] = "Product001",
    ["Product.Combos.YXY=1"] = "Product002",
    ["Product.Combos.XXYYY=1"] = "Product003",
    ["Product.Combos.YYX=1"] = "Product004",
    ["Product.Combos.AirXYYY=1"] = "Product005",
    ["Product.Combos.AirXYXY=1"] = "Product006",
    ["Product.Combos.XmY=1"] = "Product007",
    ["Product.Combos.C-X=1"] = "Product008",
    ["Product.Combos.C-Y=1"] = "Product009",
    ["Product.Combos.Q-X=1"] = "Product010",
    ["Product.Combos.Q-Y=1"] = "Product011",
    ["Product.Abilities.MagnetBackstab=1"] = "Product012",
    ["Product.Abilities.AirParry=1"] = "Product013",
    ["Product.Abilities.DirectionalParry=1"] = "Product014",
    ["Product.Partners.JamCombo.PG01=1"] = "Product015",
    ["Product.Partners.JamCombo.PA01=1"] = "Product016",
    ["Product.Partners.Charge.P01=1"] = "Product021",
    ["Product.Partners.Counter.P01=1"] = "Product024",
    ["Product.Partners.JamCombo.MG01=1"] = "Product017",
    ["Product.Partners.JamCombo.MA01=1"] = "Product018",
    ["Product.Partners.Charge.M01=1"] = "Product022",
    ["Product.Partners.Counter.M01=1"] = "Product025",
    ["Product.Partners.JamCombo.KG01=1"] = "Product019",
    ["Product.Partners.JamCombo.KA01=1"] = "Product020",
    ["Product.Partners.Charge.K01=1"] = "Product023",
    ["Product.Partners.Counter.K01=1"] = "Product026",
    ["Product.SpecialAttacks.020=1"] = "Product027",
    ["Product.SpecialAttacks.030=1"] = "Product028",
    ["Product.SpecialAttacks.040=1"] = "Product029",
    ["Product.SpecialAttacks.050=1"] = "Product030",
    ["Product.SpecialAttacks.060=1"] = "Product031",
    ["Product.SpecialAttacks.080=1"] = "Product033",
    ["Product.SpecialAttacks.310=1"] = "Product034",
    ["Product.SpecialAttacks.330=1"] = "Product036",
    ["Product.SpecialAttacks.340=1"] = "Product037",
    ["Product.SpecialAttacks.350=1"] = "Product038",
    ["Product.SpecialAttacks.360=1"] = "Product039",
    ["Product.SpecialAttacks.610=1"] = "Product040",
    ["Product.SpecialAttacks.620=1"] = "Product041",
    ["Product.SpecialAttacks.910=1"] = "Product044"
}

---@type table<number, string>
Store.InvertLocationIdTable = {}

function Store.GetLocationIdsForStoreItems(ItemTable, TableToAdd)
    for _, Info in pairs(ItemTable) do
        for i=1,Info.ScoutCount do
            local LocStr = Info.ProductTag.TagName:ToString() .. "=" .. tostring(i)
            local LocId = LocationIdTable[LocStr]
            --print(LocId, LocStr)
            table.insert(TableToAdd, LocId)
            Store.InvertLocationIdTable[LocId] = LocStr
        end
    end

    return TableToAdd
end

---@return string
function Store.GetItemColorFromFlags(Flags)
    local PROG = 1
    local USEFUL = 2
    local TRAP = 4

    if Flags & PROG > 0 then
        return TextColors.ItemProgression
    elseif Flags & USEFUL > 0 then
        return TextColors.ItemUseful
    elseif Flags & TRAP > 0 then
        return TextColors.ItemTrap
    else
        return TextColors.ItemFiller
    end
end

---@return string
function Store.GetScoutStringFromFlags(Flags)
    local PROG = 1
    local USEFUL = 2
    local TRAP = 4

    if Flags & PROG > 0 then
        return "Seems <ttd fcl=\"#" .. TextColors.ItemProgression .. "ff\">important!</>"
    elseif Flags & USEFUL > 0 then
        return "Seems <ttd fcl=\"#" .. TextColors.ItemUseful .. "ff\">pretty cool!</>"
    elseif Flags & TRAP > 0 then
        return "Seems... <ttd fcl=\"#" .. TextColors.ItemTrap .. "ff\">bad.</>"
    else
        return "Seems <ttd fcl=\"#" .. TextColors.ItemFiller .. "ff\">fine.</>"
    end
end

---@return string
function Store.AssembleStoreItemString(Info)
    local Checkmark = "\u{2713}"

    if Info.ScoutCount > 1 then
        local Str = "Buy this to unlock items!\n\n"
        for i=1,Info.ScoutCount do
            Str = Str .. tostring(i) .. ". "

            local ScoutStr = Info.ProductTag.TagName:ToString() .. "=" .. tostring(i)

            if Util.TableContains(SaveData.Checked, ScoutStr) then
                Str = Str .. Checkmark
            end

            local Scout = SaveData.Scouts[ScoutStr]

            local ItemStr = "<ttd fcl=\"#" .. Store.GetItemColorFromFlags(Scout.Flags) .. "ff\">" .. Scout.ItemName .. "</>"

            local IsSelf = Scout.PlayerName == SaveData.Slot
            local PlayerColor
            if IsSelf then
                PlayerColor = TextColors.PlayerSelf
            else
                PlayerColor = TextColors.PlayerOther
            end
            local PlayerStr = "<ttd fcl=\"#" .. PlayerColor .. "ff\">" .. Scout.PlayerName .. "!</>"

            Str = Str .. ItemStr .. " for " .. PlayerStr .. " " .. Store.GetScoutStringFromFlags(Scout.Flags)

            if i ~= Info.ScoutCount then
                Str = Str .. "\n"
            end
        end
        return Str
    else
        local Str = ""

        local ScoutStr = Info.ProductTag.TagName:ToString() .. "=1"

        if Util.TableContains(SaveData.Checked, ScoutStr) then
            Str = Str .. Checkmark
        end

        local Scout = SaveData.Scouts[ScoutStr]

        local ItemStr = "<ttd fcl=\"#" .. Store.GetItemColorFromFlags(Scout.Flags) .. "ff\">" .. Scout.ItemName .. "</>"

        local IsSelf = Scout.PlayerName == SaveData.Slot
        local PlayerColor
        if IsSelf then
            PlayerColor = TextColors.PlayerSelf
        else
            PlayerColor = TextColors.PlayerOther
        end
        local PlayerStr = "<ttd fcl=\"#" .. PlayerColor .. "ff\">" .. Scout.PlayerName .. "!</>"

        return Str .. "Buy this to unlock " .. ItemStr .. " for " .. PlayerStr .. "\n" .. Store.GetScoutStringFromFlags(Scout.Flags)
    end
end

---@return boolean
function Store.InfoHasScout(Info)
    return SaveData.Scouts[Info.ProductTag.TagName:ToString() .. "=1"] ~= nil
end

---@param SPA boolean?
function Store.ModifyInventoryObjects(ItemTable, SPA)
    SPA = SPA or false
    for ObjectPath, Info in pairs(ItemTable) do
        ---@type UHbkInventoryObject_VariableItem | UObject
        local obj = StaticFindObject(ObjectPath)
        if not SPA then
            obj.InventoryId = Info.ProductTag
        end
        obj.InventoryCategory = 3
        if Store.InfoHasScout(Info) then
            if Info.DescriptionText == nil then
                Info.DescriptionText = obj.DescriptionText
            end
            local Str = Store.AssembleStoreItemString(Info)
            obj.DescriptionText = FText(Str)
        end
    end
end

function Store.ResetInventoryObjects(ItemTable)
    for ObjectPath, Info in pairs(ItemTable) do
        ---@type UHbkInventoryObject_VariableItem | UObject
        local obj = StaticFindObject(ObjectPath)
        obj.InventoryId = Info.InventoryTag
        obj.InventoryCategory = Info.InventoryCategory
        if Info.DescriptionText ~= nil then
            obj.DescriptionText = Info.DescriptionText
        end
    end
end

function Store.ModifyAllObjects()
    if SaveData.StoreAttackChai then
        Store.ModifyInventoryObjects(Store.AttacksChai)
    end
    
    if SaveData.StoreAttackPeppermint then
        Store.ModifyInventoryObjects(Store.AttacksPeppermint)
    end
    
    if SaveData.StoreAttackMacaron then
        Store.ModifyInventoryObjects(Store.AttacksMacaron)
    end
    
    if SaveData.StoreAttackKorsica then
        Store.ModifyInventoryObjects(Store.AttacksKorsica)
    end
    
    if SaveData.StoreSpecialAttack then
        Store.ModifyInventoryObjects(Store.SpecialAttacks, true)
    end
    
    if SaveData.StoreItem then
        Store.ModifyInventoryObjects(Store.Items)
    end
    
    if SaveData.StoreChip then
        Store.ModifyInventoryObjects(Store.Chips)
    end
end

function Store.ResetAllObjects()
    if SaveData.StoreAttackChai then
        Store.ResetInventoryObjects(Store.AttacksChai)
    end
    
    if SaveData.StoreAttackPeppermint then
        Store.ResetInventoryObjects(Store.AttacksPeppermint)
    end
    
    if SaveData.StoreAttackMacaron then
        Store.ResetInventoryObjects(Store.AttacksMacaron)
    end
    
    if SaveData.StoreAttackKorsica then
        Store.ResetInventoryObjects(Store.AttacksKorsica)
    end
    
    if SaveData.StoreSpecialAttack then
        Store.ResetInventoryObjects(Store.SpecialAttacks)
    end
    
    if SaveData.StoreItem then
        Store.ResetInventoryObjects(Store.Items)
    end
    
    if SaveData.StoreChip then
        Store.ResetInventoryObjects(Store.Chips)
    end
end

function Store.CheckLocationsAfterStoreClosed()
    local Valid, PlayerCharacterManager = ObjectCache.FindPlayerCharacterManager()
    if Valid then
        ---@type int32
        local InventoryCategory = 3

        ---@type TMap<EHbkInventoryCategory, FHbkPlayerInventoryItemList>
        local SaveMap = PlayerCharacterManager.PlayerStateInfo.PlayerInventory.InventoryCategoryData_LatestSave.Map

        local KismetSystem = UEHelpers.GetKismetSystemLibrary()
        local EmptySoftObject = KismetSystem:Conv_SoftObjPathToSoftObjRef(KismetSystem:MakeSoftObjectPath(""))

        SaveMap:ForEach(function (key, value)
            if key:get() == InventoryCategory then
                value:get().List:ForEach(function (key, value)
                    ---@type FHbkInventoryItem
                    local CurrentItem = value:get()

                    if string.find(CurrentItem.InventoryId.TagName:ToString(), "Inventory.SpecialAttack") then
                        for s in string.gmatch(CurrentItem.InventoryId.TagName:ToString(), "Inventory.SpecialAttack.(%d+)") do
                            CurrentItem.InventoryId.TagName = FName("Product.SpecialAttacks." .. s)
                        end
                    end

                    if string.find(CurrentItem.InventoryId.TagName:ToString(), "Product.") then
                        CurrentItem.InventoryObjectPtr = EmptySoftObject
                        for i=1,CurrentItem.Count do
                            ---@type string
                            local LocationStr = CurrentItem.InventoryId.TagName:ToString() .. "=" .. tostring(i)

                            --print("LocationStr " .. LocationStr .. "\n")

                            if LocationIdTable[LocationStr] and not Util.TableContains(SaveData.Checked, LocationStr) then
                                Multiworld:CheckLocation(LocationStr)
                            end
                        end
                    end
                end)
            end
        end)
    end
end

---@type table<string>
local TempSpecialAttacks = {}

function Store.TempRemoveSpecialAttacks()
    TempSpecialAttacks = {}

    ---@type table<string>
    local ToRemove = {}

    for _, Info in pairs(Store.SpecialAttacks) do
        if not Util.TableContains(SaveData.Checked, Info.ProductTag.TagName:ToString() .. "=1") then
            table.insert(ToRemove, Info.InventoryTag.TagName:ToString())
        end
    end

    local Valid, PlayerCharacterManager = ObjectCache.FindPlayerCharacterManager()
    if Valid then
        ---@type int32
        local InventoryCategory = 1

        ---@type TMap<EHbkInventoryCategory, FHbkPlayerInventoryItemList>
        local SaveMap = PlayerCharacterManager.PlayerStateInfo.PlayerInventory.InventoryCategoryData.Map

        SaveMap:ForEach(function (key, value)
            if key:get() == InventoryCategory then
                value:get().List:ForEach(function (key, value)
                    ---@type FHbkInventoryItem
                    local CurrentItem = value:get()

                    if Util.TableContains(ToRemove, CurrentItem.InventoryId.TagName:ToString()) then
                        table.insert(TempSpecialAttacks, CurrentItem.InventoryId.TagName:ToString())
                        CurrentItem.Count = 0
                    end
                end)
                print("Set " .. tostring(#TempSpecialAttacks) .. " special attacks count to 0\n")
            end
        end)
    end
end

function Store.AddTempSpecialAttacks()
    if #TempSpecialAttacks > 0 then
        local Valid, PlayerCharacterManager = ObjectCache.FindPlayerCharacterManager()
        if Valid then
            ---@type int32
            local InventoryCategory = 1

            ---@type TMap<EHbkInventoryCategory, FHbkPlayerInventoryItemList>
            local SaveMap = PlayerCharacterManager.PlayerStateInfo.PlayerInventory.InventoryCategoryData.Map

            SaveMap:ForEach(function (key, value)
                if key:get() == InventoryCategory then
                    value:get().List:ForEach(function (key, value)
                        ---@type FHbkInventoryItem
                        local CurrentItem = value:get()

                        if Util.TableContains(TempSpecialAttacks, CurrentItem.InventoryId.TagName:ToString()) then
                            CurrentItem.Count = 1
                        end
                    end)
                    print("Set " .. tostring(#TempSpecialAttacks) .. " special attacks count to 1\n")
                end
            end)
            TempSpecialAttacks = {}
        end
    end
end

function Store.AdjustCosts()
    if not SaveData.AllowSell then
        ---@type UDataTable | nil
        local DT = LoadAsset("/Game/Hibiki/Blueprints/Inventory/HbkProductInfo_DT.HbkProductInfo_DT")
        if DT then
            for _, loc in ipairs(SaveData.Checked) do
                local ProductId = Store.LocStrToDTKey[loc]
                if ProductId then
                    ---@type FHbkProductInfoRow | UScriptStruct?
                    local Product = DT:FindRow(ProductId)
                    Product.Price = 0
                    print(ProductId .. " price set to 0\n")
                end
            end
        else
            print("ProductInfo_DT not loaded!\n")
        end
    end
end

function Store.OnPreStoreOpened()
    print("OnPreStoreOpened\n")
    Multiworld:SetCanGetItem(false)
    --Store.AdjustCosts()
    Store.TempRemoveSpecialAttacks()
    Store.ModifyAllObjects()
end

function Store.OnPostStoreOpened()
    print("OnPostStoreOpened\n")
    ExecuteWithDelay(100, function ()
        Store.AddTempSpecialAttacks()
    end) 
end

function Store.OnStoreClosed()
    Store.CheckLocationsAfterStoreClosed()
    Store.ResetAllObjects()
    ExecuteInGameThreadWithDelay(100, function ()
        Item.AdjustPlayerStateInfo()
    end)
    Multiworld:SetCanGetItem(true)
end

NotifyOnNewObject("/Script/Hibiki.HbkStoreMenuSelectWidget", function ()
    if SaveData.IsCurrentFileRandomized then
        Store.OnPostStoreOpened()
    end
end)

return Store